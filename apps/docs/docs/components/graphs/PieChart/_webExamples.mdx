PieChart is a wrapper for [PolarChart](/components/graphs/PolarChart) that makes it easy to create pie charts, supporting a single angular/radial axis pair. Charts are built using SVGs.

## Basics

The only prop required is `series`, which takes an array of series objects. Each series object needs an `id` and a `data` number representing the slice value.

```jsx live
<PieChart
  accessibilityLabel="Pie chart. Category A: 30; Category B: 20; Category C: 15; Category D: 10; Category E: 15; Category F: 10"
  height={200}
  series={[
    { id: 'a', data: 30, label: 'Category A', color: 'rgb(var(--blue40))' },
    { id: 'b', data: 20, label: 'Category B', color: 'rgb(var(--purple40))' },
    { id: 'c', data: 15, label: 'Category C', color: 'rgb(var(--pink50))' },
    { id: 'd', data: 10, label: 'Category D', color: 'rgb(var(--orange40))' },
    { id: 'e', data: 15, label: 'Category E', color: 'rgb(var(--yellow40))' },
    { id: 'f', data: 10, label: 'Category F', color: 'rgb(var(--green40))' },
  ]}
/>
```

## Styling

### Corners

You can use `cornerRadius` to round the corners of each slice.

```jsx live
<PieChart
  accessibilityLabel="Pie chart. Category A: 30; Category B: 20; Category C: 15; Category D: 10; Category E: 15; Category F: 10"
  cornerRadius={8}
  height={200}
  series={[
    { id: 'a', data: 30, label: 'Category A', color: 'rgb(var(--blue40))' },
    { id: 'b', data: 20, label: 'Category B', color: 'rgb(var(--purple40))' },
    { id: 'c', data: 15, label: 'Category C', color: 'rgb(var(--pink50))' },
    { id: 'd', data: 10, label: 'Category D', color: 'rgb(var(--orange40))' },
    { id: 'e', data: 15, label: 'Category E', color: 'rgb(var(--yellow40))' },
    { id: 'f', data: 10, label: 'Category F', color: 'rgb(var(--green40))' },
  ]}
/>
```

### Stroke

By default, slices have a stroke. You can remove this by setting `strokeWidth` to 0.

```jsx live
<PieChart
  accessibilityLabel="Pie chart. Category A: 30; Category B: 20; Category C: 15; Category D: 10; Category E: 15; Category F: 10"
  height={200}
  series={[
    { id: 'a', data: 30, label: 'Category A', color: 'rgb(var(--blue40))' },
    { id: 'b', data: 20, label: 'Category B', color: 'rgb(var(--purple40))' },
    { id: 'c', data: 15, label: 'Category C', color: 'rgb(var(--pink50))' },
    { id: 'd', data: 10, label: 'Category D', color: 'rgb(var(--orange40))' },
    { id: 'e', data: 15, label: 'Category E', color: 'rgb(var(--yellow40))' },
    { id: 'f', data: 10, label: 'Category F', color: 'rgb(var(--green40))' },
  ]}
  strokeWidth={0}
/>
```

### Angles

Use `angularAxis` with `range` to adjust the start and end angle of a chart.

```jsx live
<PieChart
  accessibilityLabel="Semicircle pie chart. Low: 25; Medium: 50; High: 25"
  angularAxis={{ range: { min: -90, max: 90 } }}
  height={120}
  legend
  legendPosition="bottom"
  series={[
    { id: 'low', data: 25, label: 'Low', color: 'rgb(var(--green40))' },
    { id: 'medium', data: 50, label: 'Medium', color: 'rgb(var(--yellow40))' },
    { id: 'high', data: 25, label: 'High', color: 'rgb(var(--red40))' },
  ]}
/>
```

## Animations

PieChart animates by default when data changes. You can disable animations by setting `animate` to `false`.

```jsx live
function AnimatedPieChart() {
  const [dataSet, setDataSet] = useState(0);

  const dataSets = useMemo(
    () => [
      [
        { id: 'a', data: 30, color: 'rgb(var(--blue40))' },
        { id: 'b', data: 40, color: 'rgb(var(--green40))' },
        { id: 'c', data: 30, color: 'rgb(var(--orange40))' },
      ],
      [
        { id: 'a', data: 50, color: 'rgb(var(--blue40))' },
        { id: 'b', data: 30, color: 'rgb(var(--green40))' },
        { id: 'c', data: 20, color: 'rgb(var(--orange40))' },
      ],
      [
        { id: 'a', data: 20, color: 'rgb(var(--blue40))' },
        { id: 'b', data: 50, color: 'rgb(var(--green40))' },
        { id: 'c', data: 30, color: 'rgb(var(--orange40))' },
      ],
    ],
    [],
  );

  useEffect(() => {
    const intervalId = setInterval(() => {
      setDataSet((prev) => (prev + 1) % dataSets.length);
    }, 500);

    return () => clearInterval(intervalId);
  }, [dataSets.length]);

  const accessibilityLabel = useMemo(() => {
    const current = dataSets[dataSet];
    return `Pie chart. A: ${current[0].data}; B: ${current[1].data}; C: ${current[2].data}`;
  }, [dataSets, dataSet]);

  return (
    <HStack gap={4} justifyContent="center">
      <VStack alignItems="center" gap={2}>
        <Text font="label1">animate=true</Text>
        <PieChart
          accessibilityLabel={accessibilityLabel}
          animate
          height={200}
          series={dataSets[dataSet]}
        />
      </VStack>
      <VStack alignItems="center" gap={2}>
        <Text font="label1">animate=false</Text>
        <PieChart
          accessibilityLabel={accessibilityLabel}
          animate={false}
          height={200}
          series={dataSets[dataSet]}
        />
      </VStack>
    </HStack>
  );
}
```

## Composed Examples

### Category Distribution

### Tooltip

Use `enableHighlighting` with `ChartTooltip` to show values on hover. The `valueFormatter` prop customizes how values are displayed.

```jsx live
function PieWithTooltip() {
  const series = useMemo(
    () => [
      { id: 'stocks', data: 45, label: 'Stocks', color: 'rgb(var(--blue40))' },
      { id: 'bonds', data: 25, label: 'Bonds', color: 'rgb(var(--green40))' },
      { id: 'crypto', data: 20, label: 'Crypto', color: 'rgb(var(--orange40))' },
      { id: 'cash', data: 10, label: 'Cash', color: 'rgb(var(--gray40))' },
    ],
    [],
  );

  const total = useMemo(() => series.reduce((sum, s) => sum + s.data, 0), [series]);

  const percentFormatter = useCallback(
    (value) => {
      const percent = Math.round((value / total) * 100);
      return `${percent}% of portfolio`;
    },
    [total],
  );

  return (
    <PieChart
      accessibilityLabel="Asset allocation pie chart. Stocks: 45%; Bonds: 25%; Crypto: 20%; Cash: 10%. Hover over slices for details."
      enableHighlighting
      height={200}
      legend
      legendPosition="right"
      maxWidth={400}
      series={series}
      style={{ margin: '0 auto' }}
    >
      <ChartTooltip label="Asset Allocation" valueFormatter={percentFormatter} />
    </PieChart>
  );
}
```

### Compact Pie

For smaller spaces, you can create compact pie charts.

```jsx live
<HStack flexWrap="wrap" gap={4}>
  <HStack alignItems="center" gap={2}>
    <PieChart
      accessibilityLabel="Allocation: 60% filled, 40% remaining"
      height={40}
      inset={0}
      series={[
        { id: 'a', data: 60, color: 'rgb(var(--blue40))' },
        { id: 'b', data: 40, color: 'rgb(var(--gray20))' },
      ]}
      width={40}
    />
    <VStack gap={0}>
      <Text font="label1">60%</Text>
      <Text color="fgMuted" font="label2">
        Allocation
      </Text>
    </VStack>
  </HStack>
  <HStack alignItems="center" gap={2}>
    <PieChart
      accessibilityLabel="Equal split: 33%, 33%, 34%"
      height={40}
      inset={0}
      series={[
        { id: 'a', data: 33, color: 'rgb(var(--blue40))' },
        { id: 'b', data: 33, color: 'rgb(var(--green40))' },
        { id: 'c', data: 34, color: 'rgb(var(--purple40))' },
      ]}
      width={40}
    />
    <VStack gap={0}>
      <Text font="label1">Equal</Text>
      <Text color="fgMuted" font="label2">
        Split
      </Text>
    </VStack>
  </HStack>
</HStack>
```
