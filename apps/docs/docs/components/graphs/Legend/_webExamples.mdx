## Basics

The Legend component displays series labels with their corresponding colors and shapes. By default, it appears at the top of the chart.

```jsx live
function LegendExample() {
  // US NOAA 2024 Precipitation data by climate region (inches)
  const precipitationData = [
    {
      id: 'northeast',
      label: 'Northeast',
      data: [5.14, 1.53, 5.73, 4.29, 3.78, 3.92, 4.19, 5.54, 2.03, 1.42, 2.95, 3.89],
      color: 'rgb(var(--blue40))',
    },
    {
      id: 'upperMidwest',
      label: 'Upper Midwest',
      data: [1.44, 0.49, 2.16, 3.67, 5.44, 6.21, 4.02, 3.67, 0.92, 1.47, 3.05, 1.48],
      color: 'rgb(var(--green40))',
    },
    {
      id: 'ohioValley',
      label: 'Ohio Valley',
      data: [4.74, 1.83, 3.1, 5.42, 5.69, 3.29, 5.02, 2.57, 4.13, 0.79, 4.31, 3.67],
      color: 'rgb(var(--orange40))',
    },
    {
      id: 'southeast',
      label: 'Southeast',
      data: [5.48, 3.11, 5.73, 2.97, 5.45, 3.28, 7.18, 5.67, 7.93, 1.33, 2.69, 3.21],
      color: 'rgb(var(--yellow40))',
    },
    {
      id: 'northernRockiesAndPlains',
      label: 'Northern Rockies and Plains',
      data: [0.64, 1.01, 1.06, 2.12, 3.34, 2.65, 1.54, 1.89, 0.95, 0.57, 1.23, 0.67],
      color: 'rgb(var(--indigo40))',
    },
    {
      id: 'south',
      label: 'South',
      data: [4.19, 1.79, 2.93, 3.84, 5.25, 3.4, 4.27, 1.84, 3.08, 0.52, 4.5, 2.62],
      color: 'rgb(var(--pink40))',
    },
    {
      id: 'southwest',
      label: 'Southwest',
      data: [1.12, 1.5, 1.52, 0.75, 0.76, 1.27, 1.44, 2.01, 0.62, 1.08, 1.23, 0.25],
      color: 'rgb(var(--purple40))',
    },
    {
      id: 'northwest',
      label: 'Northwest',
      data: [5.69, 3.67, 3.32, 1.95, 2.08, 1.31, 0.28, 0.81, 0.95, 2.03, 5.45, 5.8],
      color: 'rgb(var(--red40))',
    },
    {
      id: 'west',
      label: 'West',
      data: [3.39, 4.7, 3.09, 1.07, 0.55, 0.12, 0.23, 0.26, 0.22, 0.4, 2.7, 2.54],
      color: 'rgb(var(--teal40))',
    },
  ];

  const xAxisData = [
    'January',
    'February',
    'March',
    'April',
    'May',
    'June',
    'July',
    'August',
    'September',
    'October',
    'November',
    'December',
  ];

  return (
    <VStack gap={2}>
      <Text font="headline" textAlign="center">
        2024 Precipitation by Climate Region
      </Text>
      <LineChart
        enableScrubbing
        height={{ base: 300, tablet: 400, desktop: 500 }}
        series={precipitationData}
        showXAxis
        xAxis={{ data: xAxisData, label: 'Month', showLine: true, showTickMarks: true }}
        showYAxis
        yAxis={{ label: 'Precipitation (in)', showLine: true, showTickMarks: true, showGrid: true }}
        showArea
      >
        <Scrubber hideOverlay hideBeaconLabels />
        <Legend position="bottom" />
        <ChartTooltip valueFormatter={(value) => `${value} in`} />
      </LineChart>
    </VStack>
  );
}
```

## Positioning

The `position` prop controls where the legend appears. The chart automatically adjusts to make room for the legend.

### Top Position (Default)

```jsx live
<LineChart
  height={{ base: 200, tablet: 225, desktop: 250 }}
  series={[
    {
      id: 'revenue',
      label: 'Revenue',
      color: 'var(--color-accentBoldGreen)',
      data: [455, 520, 380, 455, 285, 235],
      legendShape: 'pill',
    },
    {
      id: 'expenses',
      label: 'Expenses',
      color: 'var(--color-accentBoldRed)',
      data: [320, 380, 290, 340, 250, 200],
      legendShape: 'circle',
    },
  ]}
  showYAxis
  xAxis={{
    data: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
    scaleType: 'point',
  }}
  yAxis={{
    showGrid: true,
  }}
>
  <Legend position="top" />
</LineChart>
```

### Bottom Position

```jsx live
<LineChart
  height={{ base: 200, tablet: 225, desktop: 250 }}
  series={[
    {
      id: 'revenue',
      label: 'Revenue',
      color: 'var(--color-accentBoldGreen)',
      data: [455, 520, 380, 455, 285, 235],
      legendShape: 'pill',
    },
    {
      id: 'expenses',
      label: 'Expenses',
      color: 'var(--color-accentBoldRed)',
      data: [320, 380, 290, 340, 250, 200],
      legendShape: 'circle',
    },
  ]}
  showYAxis
  xAxis={{
    data: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
    scaleType: 'point',
  }}
  yAxis={{
    showGrid: true,
  }}
>
  <Legend position="bottom" />
</LineChart>
```

### Left Position

```jsx live
<LineChart
  height={{ base: 200, tablet: 225, desktop: 250 }}
  series={[
    {
      id: 'revenue',
      label: 'Revenue',
      color: 'var(--color-accentBoldGreen)',
      data: [455, 520, 380, 455, 285, 235],
      legendShape: 'pill',
    },
    {
      id: 'expenses',
      label: 'Expenses',
      color: 'var(--color-accentBoldRed)',
      data: [320, 380, 290, 340, 250, 200],
      legendShape: 'circle',
    },
  ]}
  showYAxis
  xAxis={{
    data: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
    scaleType: 'point',
  }}
  yAxis={{
    showGrid: true,
  }}
>
  <Legend position="left" />
</LineChart>
```

### Right Position

```jsx live
<LineChart
  height={{ base: 200, tablet: 225, desktop: 250 }}
  series={[
    {
      id: 'revenue',
      label: 'Revenue',
      color: 'var(--color-accentBoldGreen)',
      data: [455, 520, 380, 455, 285, 235],
      legendShape: 'pill',
    },
    {
      id: 'expenses',
      label: 'Expenses',
      color: 'var(--color-accentBoldRed)',
      data: [320, 380, 290, 340, 250, 200],
      legendShape: 'circle',
    },
  ]}
  showYAxis
  xAxis={{
    data: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
    scaleType: 'point',
  }}
  yAxis={{
    showGrid: true,
  }}
>
  <Legend position="right" />
</LineChart>
```

## Legend Shapes

Series can use different shapes for their legend indicators via the `legendShape` property. Available shapes are `pill`, `circle`, `square`, and `squircle`.

```jsx live
<LineChart
  height={{ base: 200, tablet: 225, desktop: 250 }}
  series={[
    {
      id: 'pill',
      label: 'Pill Shape',
      color: 'var(--color-accentBoldBlue)',
      data: [10, 20, 15, 25, 30],
      legendShape: 'pill',
    },
    {
      id: 'circle',
      label: 'Circle Shape',
      color: 'var(--color-accentBoldGreen)',
      data: [8, 18, 13, 23, 28],
      legendShape: 'circle',
    },
    {
      id: 'square',
      label: 'Square Shape',
      color: 'var(--color-accentBoldYellow)',
      data: [6, 16, 11, 21, 26],
      legendShape: 'square',
    },
    {
      id: 'squircle',
      label: 'Squircle Shape',
      color: 'var(--color-accentBoldPurple)',
      data: [4, 14, 9, 19, 24],
      legendShape: 'squircle',
    },
  ]}
  showYAxis
  xAxis={{
    data: ['Q1', 'Q2', 'Q3', 'Q4', 'Q5'],
    scaleType: 'point',
  }}
  yAxis={{
    showGrid: true,
  }}
>
  <Legend />
</LineChart>
```

## Multiple Series

Legend works great with many series, displaying all series labels in an organized layout.

```jsx live
function MultipleSeries() {
  const pages = useMemo(
    () => ['Page A', 'Page B', 'Page C', 'Page D', 'Page E', 'Page F', 'Page G'],
    [],
  );
  const pageViews = useMemo(() => [2400, 1398, 9800, 3908, 4800, 3800, 4300], []);
  const uniqueVisitors = useMemo(() => [4000, 3000, 2000, 2780, 1890, 2390, 3490], []);

  const chartAccessibilityLabel = `Website visitors across ${pageViews.length} pages.`;

  const scrubberAccessibilityLabel = useCallback(
    (index: number) => {
      return `${pages[index]} has ${pageViews[index]} views and ${uniqueVisitors[index]} unique visitors.`;
    },
    [pages, pageViews, uniqueVisitors],
  );

  const numberFormatter = useCallback(
    (value: number) => new Intl.NumberFormat('en-US', { maximumFractionDigits: 0 }).format(value),
    [],
  );

  return (
    <LineChart
      enableScrubbing
      showArea
      showXAxis
      showYAxis
      accessibilityLabel={chartAccessibilityLabel}
      height={{ base: 200, tablet: 225, desktop: 250 }}
      series={[
        {
          id: 'pageViews',
          data: pageViews,
          color: 'var(--color-accentBoldGreen)',
          label: 'Page Views',
          legendShape: 'pill',
        },
        {
          id: 'uniqueVisitors',
          data: uniqueVisitors,
          color: 'var(--color-accentBoldPurple)',
          label: 'Unique Visitors',
          legendShape: 'circle',
          areaType: 'dotted',
        },
      ]}
      xAxis={{
        data: pages,
      }}
      yAxis={{
        showGrid: true,
        tickLabelFormatter: numberFormatter,
      }}
    >
      <Legend />
      <Scrubber accessibilityLabel={scrubberAccessibilityLabel} hideOverlay />
    </LineChart>
  );
}
```

Here's an example with many series showing different market segments:

```jsx live
<LineChart
  height={{ base: 250, tablet: 300, desktop: 350 }}
  series={[
    {
      id: 'technology',
      label: 'Technology',
      color: 'var(--color-accentBoldBlue)',
      data: [45, 52, 48, 55, 60, 58, 65, 70],
      legendShape: 'pill',
    },
    {
      id: 'healthcare',
      label: 'Healthcare',
      color: 'var(--color-accentBoldGreen)',
      data: [32, 35, 38, 42, 45, 43, 48, 52],
      legendShape: 'circle',
    },
    {
      id: 'finance',
      label: 'Finance',
      color: 'var(--color-accentBoldPurple)',
      data: [28, 30, 27, 32, 35, 38, 40, 43],
      legendShape: 'square',
    },
    {
      id: 'retail',
      label: 'Retail',
      color: 'var(--color-accentBoldYellow)',
      data: [20, 22, 25, 23, 28, 30, 32, 35],
      legendShape: 'squircle',
    },
    {
      id: 'energy',
      label: 'Energy',
      color: 'var(--color-accentBoldRed)',
      data: [15, 18, 20, 22, 25, 27, 30, 33],
      legendShape: 'pill',
    },
    {
      id: 'manufacturing',
      label: 'Manufacturing',
      color: 'var(--color-accentBoldOrange)',
      data: [12, 15, 18, 20, 23, 25, 28, 30],
      legendShape: 'circle',
    },
  ]}
  showYAxis
  xAxis={{
    data: ['Q1', 'Q2', 'Q3', 'Q4', 'Q5', 'Q6', 'Q7', 'Q8'],
    scaleType: 'point',
  }}
  yAxis={{
    showGrid: true,
  }}
>
  <Legend />
</LineChart>
```

## Bar Chart

Legend works seamlessly with BarChart for categorical data visualization.

```jsx live
function BarChartExample() {
  const numberFormatter = useCallback(
    (value: number) => `$${value}k`,
    [],
  );

  return (
    <VStack gap={2}>
      <CartesianChart
        height={{ base: 200, tablet: 225, desktop: 250 }}
        inset={{ top: 8, bottom: 8, left: 0, right: 0 }}
        series={[
          {
            id: 'revenue',
            data: [455, 520, 380, 455, 285, 235],
            yAxisId: 'revenue',
            color: 'var(--color-accentBoldYellow)',
            label: 'Revenue ($)',
            legendShape: 'square',
          },
          {
            id: 'profitMargin',
            data: [23, 20, 16, 38, 12, 9],
            yAxisId: 'profitMargin',
            color: 'var(--color-fgPositive)',
            label: 'Profit Margin (%)',
            legendShape: 'circle',
          },
        ]}
        xAxis={{
          data: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
          scaleType: 'band',
        }}
        yAxis={[
          {
            id: 'revenue',
            domain: { min: 0 },
          },
          {
            id: 'profitMargin',
            domain: { min: 0, max: 100 },
          },
        ]}
      >
        <XAxis showLine showTickMarks />
        <YAxis
          showGrid
          showLine
          showTickMarks
          axisId="revenue"
          position="left"
          requestedTickCount={5}
          width={60}
          tickLabelFormatter={numberFormatter}
        />
        <YAxis
          showLine
          showTickMarks
          axisId="profitMargin"
          position="right"
          requestedTickCount={5}
          tickLabelFormatter={(value) => `${value}%`}
        />
        <BarPlot />
        <Legend />
      </CartesianChart>
    </VStack>
  );
}
```

## Custom Styling

Legend supports all Box props for customization, including `gap`, `flexDirection`, `justifyContent`, and `alignItems`.

```jsx live
<LineChart
  height={{ base: 200, tablet: 225, desktop: 250 }}
  series={[
    {
      id: 'series1',
      label: 'Revenue',
      color: 'var(--color-accentBoldGreen)',
      data: [10, 20, 15, 25, 30],
      legendShape: 'pill',
    },
    {
      id: 'series2',
      label: 'Costs',
      color: 'var(--color-accentBoldRed)',
      data: [5, 15, 10, 20, 25],
      legendShape: 'circle',
    },
    {
      id: 'series3',
      label: 'Profit',
      color: 'var(--color-accentBoldBlue)',
      data: [3, 10, 8, 15, 18],
      legendShape: 'square',
    },
  ]}
  showYAxis
  xAxis={{
    data: ['Q1', 'Q2', 'Q3', 'Q4', 'Q5'],
    scaleType: 'point',
  }}
  yAxis={{
    showGrid: true,
  }}
>
  <Legend
    gap={3}
    justifyContent="flex-start"
    padding={2}
    position="top"
    style={{ backgroundColor: 'var(--color-bgAlternate)', borderRadius: '8px' }}
  />
</LineChart>
```

You can also customize the alignment and wrapping behavior:

```jsx live
<LineChart
  height={{ base: 250, tablet: 300, desktop: 350 }}
  series={[
    {
      id: 'btc',
      label: 'Bitcoin (BTC)',
      color: 'var(--color-accentBoldBlue)',
      data: [45, 52, 48, 55, 60, 58],
      legendShape: 'pill',
    },
    {
      id: 'eth',
      label: 'Ethereum (ETH)',
      color: 'var(--color-accentBoldPurple)',
      data: [32, 35, 38, 42, 45, 43],
      legendShape: 'circle',
    },
    {
      id: 'sol',
      label: 'Solana (SOL)',
      color: 'var(--color-accentBoldGreen)',
      data: [20, 25, 30, 35, 40, 38],
      legendShape: 'square',
    },
  ]}
  showYAxis
  xAxis={{
    data: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
    scaleType: 'point',
  }}
  yAxis={{
    showGrid: true,
  }}
>
  <Legend gap={2} justifyContent="flex-end" position="top" />
</LineChart>
```

## With Scrubber

Legend and Scrubber work together seamlessly to provide comprehensive chart interactions.

```jsx live
<LineChart
  curve="natural"
  enableScrubbing
  height={{ base: 200, tablet: 225, desktop: 250 }}
  inset={{ top: 16, right: 16, bottom: 0, left: 0 }}
  points
  series={[
    {
      id: 'line1',
      label: 'Primary Metric',
      color: 'var(--color-accentBoldBlue)',
      data: [2, 5.5, 2, 8.5, 1.5, 5],
      legendShape: 'pill',
    },
    {
      id: 'line2',
      label: 'Secondary Metric',
      color: 'var(--color-accentBoldGreen)',
      data: [1, 3, 1.5, 6, 1, 3.5],
      legendShape: 'circle',
    },
  ]}
  showArea
  showXAxis
  showYAxis
  xAxis={{
    data: [1, 2, 3, 5, 8, 10],
    showLine: true,
    showTickMarks: true,
    showGrid: true,
  }}
  yAxis={{
    domain: { min: 0 },
    position: 'left',
    showLine: true,
    showTickMarks: true,
    showGrid: true,
  }}
>
  <Legend />
  <Scrubber hideOverlay />
</LineChart>
```
